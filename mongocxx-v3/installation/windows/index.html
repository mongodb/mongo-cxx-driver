<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<meta name="keyword" content="">
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

    <link rel="shortcut icon" href="https://mongocxx.org/img/favicon.png">

    <title>Windows</title>

    <link rel="stylesheet" href="https://mongocxx.org/lib/bootstrap.css" type="text/css" />
<link rel="stylesheet" href="https://mongocxx.org/lib/font-awesome/css/font-awesome.min.css" type="text/css" />
<link rel="stylesheet" href="https://mongocxx.org/css/mongodb-docs.css" type="text/css" />
<link rel="stylesheet" href="https://mongocxx.org/css/overrides.css" type="text/css" />
<link rel="stylesheet" href="https://mongocxx.org/lib/highlight/styles/idea.css" />

  </head>

  <body>
  
  <section id="container" class="">
      
      <header id="header-db" class="row" role="navigation">
  <div class="header-content">
    <div class="toggle-nav pull-left">
        <i class="fa fa-bars"></i>
        <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
    </div>
    
    <div class="logo pull-left">
      <a href="https://mongocxx.org">
        <img src="https://mongocxx.org/img/logo-mongodb-header.png",
             alt="MongoDB C++ driver" />
      </a>
    </div>
    
    <div>
<div class="nav-items pull-right">
  <div id="search">
<form method="get" action="//www.google.com/search" target="_blank">
    <input type="text" name="searchQuery" size="20" value="" autocomplete="off" placeholder="Search">
    <input type="hidden" name="site" value="https://mongocxx.org">
    <input type="hidden" name="q" value="">
    <label for="searchQuery"><i class="fa fa-search fa-1"></i></label>
</form>
</div>

</div>
</div>

  </div>
</header>

      

      
<aside id="sidebar" class="sidebar">
    <div class="ssidebar nav-collapse">
      <div class="ssidebarwrapper">
        <h3>
          <a class="index-link" href="https://mongocxx.org">MongoDB C&#43;&#43; Driver Manual</a>
        </h3>

        
        <ul class="sidebar-menu">
          
          
          
          
          
          
          
          
          
          
          
          

          
          
            
            









  
    
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  
  
  
  
  
  
  
  

  
    
    
    
      
      
      
    
    
  
  


        
      
    
      
      
        
      
    
      
      
    
      
      
    
    
  


        
      
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
    
  


          
            
            









  
    
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
    
  


          
            
            









  


          
            
            









  


          
            
            









  


          
            
            









  


          
            
            









  
    
    
      
      
    
      
      
    
      
      
    
    
  


          

          

          
            
            













  




<li class="toctree-l1  current">
  <a href="/mongocxx-v3/" class="">
      <i class='fa fa-arrow-right'></i>
      <span>mongocxx (v3)</span>
      <span class="menu-arrow fa fa-angle-down"></span>
  </a>
    <ul  class="current">
        
        
        
        













  




<li class="toctree-l2  current">
  <a href="/mongocxx-v3/installation/" class="">
      
      <span>Installing the mongocxx driver</span>
      
  </a>
    <ul  class="current">
        
        
        
        













  




    <li class="toctree-l3">
    <a href="/mongocxx-v3/installation/windows/">
        
        Windows
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongocxx-v3/installation/macos/">
        
        macOS
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongocxx-v3/installation/linux/">
        
        Linux
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongocxx-v3/installation/advanced/">
        
        Advanced Configuration and Installation Options
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongocxx-v3/configuration/">
        
        Configuring the mongocxx driver
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongocxx-v3/client-side-encryption/">
        
        Client-Side Field Level Encryption with mongocxx
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongocxx-v3/tutorial/">
        
        Tutorial for mongocxx
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongocxx-v3/thread-safety/">
        
        Thread and fork safety
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongocxx-v3/connection-pools/">
        
        Connection pools
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongocxx-v3/working-with-bson/">
        
        Working with BSON
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongocxx-v3/api-abi-versioning/">
        
        API and ABI versioning
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongocxx-v3/">
        
        The mongocxx (v3) driver
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/legacy-v1/" class="">
      <i class='fa fa-arrow-right'></i>
      <span>legacy (v1)</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/legacy-v1/installation/">
        
        Installing the legacy driver
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/legacy-v1/configuration/">
        
        Configuring the legacy driver
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/legacy-v1/tutorial/">
        
        Legacy driver tutorial
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/legacy-v1/working-with-bson/">
        
        Working with BSON
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/legacy-v1/breaking-changes/">
        
        Breaking changes from 26compat
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/legacy-v1/">
        
        The Legacy C&#43;&#43; Driver
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="https://mongocxx.org/api/current">
        <i class='fa fa-file-text-o'></i>
        API Documentation
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/getting-help/">
        <i class='fa fa-question'></i>
        Getting help
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/reporting-bugs/">
        <i class='fa fa-bug'></i>
        Reporting Bugs
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="https://github.com/mongodb/mongo-cxx-driver/">
        <i class='fa fa-github'></i>
        Source Code
    </a>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/contributing/" class="">
      <i class='fa fa-pencil'></i>
      <span>Contributing</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/contributing/testing-mongocxx/">
        
        Testing the mongocxx driver
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/contributing/testing-legacy/">
        
        Testing the legacy driver
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/contributing/">
        
        Contribution Guidelines
    </a>
  </li>


        
        
    </ul>
  </li>


          
        </ul>
        
    </div>
  </div>
  

</aside>



      
      <section id="main-content" class="content">
          <section class="main-column pull-left">
            <div class="document">
              <div class="documentwrapper">
                <div class="bodywrapper">
                  <div class="body">


   
<a class="edit-link" href="https://github.com/mongodb/mongo-cxx-driver/blob/master/docs/content/mongocxx-v3/installation/windows.md" target="_blank" title="Edit mongocxx-v3/installation/windows.md on GitHub"><i class="fa fa-pencil-square-o"></i></a>










<div class="bc">
<ul>
  
  
  
  
  <li><a href="/mongocxx-v3/">mongocxx (v3)</a> <i class="fa fa-angle-right"></i></li>
  <li><a href="/mongocxx-v3/installation/">Installing the mongocxx driver</a> <i class="fa fa-angle-right"></i></li>
  <li>Windows</li>
</ul>
</div>


<h1>Windows</h1>
<h3 id="step-1-choose-a-c17-polyfill">Step 1: Choose a C++17 polyfill</h3>
<p>The mongocxx driver uses the C++17 features <code>std::optional</code> and
<code>std::string_view</code>. To compile the mongocxx driver for pre-C++17, you
must choose one of the following implementations for these features:</p>
<p>MNMLSTC/core (<em>default for non-Windows platforms</em>)
Select with <code>-DBSONCXX_POLY_USE_MNMLSTC=1</code>.  <strong>NOTE</strong>: This option
vendors a header-only installation of MNMLSTC/core into the bsoncxx
library installation and will therefore download MLNMLSTC from GitHub
during the build process. If you already have an available version of
MNMLSTC on your system, you can avoid the download step by using
<code>-DBSONCXX_POLY_USE_SYSTEM_MNMLSTC</code>.</p>
<p>Boost (<em>default for Windows platforms</em>)
Select with <code>-DBSONCXX_POLY_USE_BOOST=1</code>. This is currently the
only option if you are using a version of MSVC that does not support
C++17.</p>
<p><code>std::experimental</code>
Select with <code>-DBSONCXX_POLY_USE_STD_EXPERIMENTAL=1</code>. If your
toolchain&rsquo;s standard library provides <code>optional</code> and
<code>string_view</code> in the namespace <code>std::experimental</code>, you can use
this option. Be aware that your standard library&rsquo;s
<code>std::experimental</code> implementation may change over time,
breaking binary compatibility in unexpected ways. Note that this
polyfill is <em>not</em> recommended and is unsupported.</p>
<p>Most users should be fine sticking with the default. However, if you
have an existing application which makes heavy use of one of the
available libraries, you may prefer to build the mongocxx driver
against the same library.</p>
<p><strong>DO NOT</strong> change your project&rsquo;s polyfill if you need to create a
stable binary interface.</p>
<h3 id="step-2-download-the-latest-version-of-the-mongocxx-driver">Step 2: Download the latest version of the mongocxx driver.</h3>
<p>The most reliable starting point for building the mongocxx driver is the latest
release tarball.</p>
<p>The <a href="https://github.com/mongodb/mongo-cxx-driver/releases">mongocxx releases</a>
page will have links to the release tarball for the version you wish you install.  For
example, to download version 3.9.0:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>curl -OL https://github.com/mongodb/mongo-cxx-driver/releases/download/r3.9.0/mongo-cxx-driver-r3.9.0.tar.gz
</span></span><span style="display:flex;"><span>tar -xzf mongo-cxx-driver-r3.9.0.tar.gz
</span></span><span style="display:flex;"><span>cd mongo-cxx-driver-r3.9.0/build
</span></span></code></pre></div><p>Make sure you change to the <code>build</code> directory of whatever source tree you
obtain.</p>
<h3 id="step-3-configure-the-driver">Step 3: Configure the driver</h3>
<p>On Windows, the C++ driver is configured as follows (adjusting the path of the CMake executable as appropriate to your system):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#e6db74">&#39;C:\Program Files (x86)\CMake\bin\cmake.exe&#39;</span> .. <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>     -G <span style="color:#e6db74">&#34;Visual Studio 14 2015 Win64&#34;</span>           <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -DBOOST_ROOT<span style="color:#f92672">=</span>C:<span style="color:#ae81ff">\l</span>ocal<span style="color:#ae81ff">\b</span>oost_1_60_0          <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>C:<span style="color:#ae81ff">\m</span>ongo-cxx-driver
</span></span></code></pre></div><p>The example above assumes:</p>
<ul>
<li>Boost is found in <code>C:\local\boost_1_60_0</code>.</li>
<li><code>mongocxx</code> is to be installed into <code>C:\mongo-cxx-driver</code>.</li>
</ul>
<p>To build with Visual Studio 2017 without a C++17 polyfill, configure as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#e6db74">&#39;C:\Program Files (x86)\CMake\bin\cmake.exe&#39;</span> .. <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -G <span style="color:#e6db74">&#34;Visual Studio 15 2017 Win64&#34;</span>            <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -DCMAKE_CXX_STANDARD<span style="color:#f92672">=</span><span style="color:#ae81ff">17</span>                     <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>C:<span style="color:#ae81ff">\m</span>ongo-cxx-driver  <span style="color:#ae81ff">\
</span></span></span></code></pre></div><h4 id="configuring-with-mongocxx-370-and-older">Configuring with <code>mongocxx</code> 3.7.0 and older</h4>
<p>To build versions 3.7.0 and older without a C++17 polyfill, it is necessary to configure with additional options:</p>
<ul>
<li><code>/Zc:__cplusplus</code> to opt into the correct definition of <code>__cplusplus</code> (<a href="https://devblogs.microsoft.com/cppblog/msvc-now-correctly-reports-__cplusplus/">problem described here</a>)</li>
<li><code>/EHsc</code> to enable recommended <a href="https://learn.microsoft.com/en-us/cpp/build/reference/eh-exception-handling-model?view=msvc-170">exception handling behavior</a>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#e6db74">&#39;C:\Program Files (x86)\CMake\bin\cmake.exe&#39;</span> .. <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -G <span style="color:#e6db74">&#34;Visual Studio 15 2017 Win64&#34;</span>            <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -DCMAKE_CXX_STANDARD<span style="color:#f92672">=</span><span style="color:#ae81ff">17</span>                     <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -DCMAKE_CXX_FLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/Zc:__cplusplus /EHsc&#34;</span>   <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>C:<span style="color:#ae81ff">\m</span>ongo-cxx-driver  <span style="color:#ae81ff">\
</span></span></span></code></pre></div><h4 id="configuring-with-mongocxx-31x-or-30x">Configuring with <code>mongocxx</code> 3.1.x or 3.0.x</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>cmake ..                                            <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -DLIBMONGOC_DIR<span style="color:#f92672">=</span>C:<span style="color:#ae81ff">\m</span>ongo-c-driver               <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>C:<span style="color:#ae81ff">\m</span>ongo-cxx-driver
</span></span></code></pre></div><h3 id="step-4-build-and-install-the-driver">Step 4: Build and install the driver</h3>
<p>Build and install the driver. Use <code>--config</code> to select a build configuration (e.g. <code>Debug</code>, <code>RelWithDebInfo</code>, <code>Release</code>):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>cmake --build . --config RelWithDebInfo
</span></span><span style="display:flex;"><span>cmake --build . --target install --config RelWithDebInfo
</span></span></code></pre></div><p>The driver can be uninstalled at a later time in one of two ways.  First,
the uninstall target can be called:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>cmake --build . --target uninstall
</span></span></code></pre></div><p>Second, the uninstall script can be called:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>C:<span style="color:#ae81ff">\o</span>pt<span style="color:#ae81ff">\m</span>ongo-cxx-driver<span style="color:#ae81ff">\s</span>hare<span style="color:#ae81ff">\m</span>ongo-cxx-driver<span style="color:#ae81ff">\u</span>ninstall.cmd
</span></span></code></pre></div>





<div id="btnv">
  
  
  <div class="pull-right">
  <a class="navigation next" href="/mongocxx-v3/installation/macos/">
    macOS <i class="fa fa-long-arrow-right"> </i>
  </a>
  
</div>
</div>


</div>
<div class="right-column">
<div class="wrapper">
  
  <div class="toc">
    <span class="toc-header">On this page</span>
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#step-1-choose-a-c17-polyfill">Step 1: Choose a C++17 polyfill</a></li>
        <li><a href="#step-2-download-the-latest-version-of-the-mongocxx-driver">Step 2: Download the latest version of the mongocxx driver.</a></li>
        <li><a href="#step-3-configure-the-driver">Step 3: Configure the driver</a></li>
        <li><a href="#step-4-build-and-install-the-driver">Step 4: Build and install the driver</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
  
</div>
</div>

</div>
</div>
</div>
</section>
</section>

</section>


<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
   URL_ROOT:    "https://mongocxx.org",
   VERSION:      null ,
   COLLAPSE_INDEX: false,
   FILE_SUFFIX: '.html',
   HAS_SOURCE:  true
  };
</script>
<script type="text/javascript" src="https://mongocxx.org/js/jquery.js"></script>
<script type="text/javascript" src="https://mongocxx.org/lib/bootstrap.js"></script>
<script type="text/javascript" src="https://mongocxx.org/js/navbar.js"></script>
<script type="text/javascript" src="https://mongocxx.org/lib/highlight/highlight.pack.js"></script>
<script type="text/javascript" src="https://mongocxx.org/js/scripts.js"></script>


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-JQHP"
                 height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
  {'gtm.start': new Date().getTime(),event:'gtm.js'}
);var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-JQHP');</script>


<script type="text/javascript">
var _elqQ = _elqQ || [];
_elqQ.push(['elqSetSiteId', '413370795']);
_elqQ.push(['elqTrackPageView']);
(function () {
function async_load()
{ var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//img03.en25.com/i/elqCfg.min.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); }
if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
else if (window.attachEvent) window.attachEvent('onload', async_load);
})();
</script>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-7301842-14"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-7301842-14');
</script>


<script type="text/javascript">
  !function(e,t,r,n,a){if(!e[a]){for(var i=e[a]=[],s=0;s<r.length;s++){var c=r[s];i[c]=i[c]||function(e){return function(){var t=Array.prototype.slice.call(arguments);i.push([e,t])}}(c)}i.SNIPPET_VERSION="1.0.1";var o=t.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://d2yyd1h5u9mauk.cloudfront.net/integrations/web/v1/library/"+n+"/"+a+".js";var l=t.getElementsByTagName("script")[0];l.parentNode.insertBefore(o,l)}}(window,document,["survey","reset","config","init","set","get","event","identify","track","page","screen","group","alias"],"Dk30CC86ba0nATlK","delighted");

  delighted.survey();
</script>
</body>
</html>

