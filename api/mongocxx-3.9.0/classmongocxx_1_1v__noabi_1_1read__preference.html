<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MongoDB C++ Driver: mongocxx::v_noabi::read_preference Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MongoDB C++ Driver<span id="projectnumber">&#160;mongocxx-3.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemongocxx.html">mongocxx</a></li><li class="navelem"><a class="el" href="namespacemongocxx_1_1v__noabi.html">v_noabi</a></li><li class="navelem"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmongocxx_1_1v__noabi_1_1read__preference-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mongocxx::v_noabi::read_preference Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class representing a preference for how the driver routes read operations to members of a replica set or to a sharded cluster.  
 <a href="classmongocxx_1_1v__noabi_1_1read__preference.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="read__preference_8hpp_source.html">read_preference.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmongocxx_1_1v__noabi_1_1read__preference_1_1deprecated__tag.html">deprecated_tag</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a7e9a58e6c82169d2eb569f7993325154"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154">read_mode</a> : std::uint8_t { <br />
&#160;&#160;<a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154ab207f43716d9bd2df75fedcb4ff4708d">k_primary</a>
, <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154af25c7f2a3bd09659341ac2c5c4e48825">k_primary_preferred</a>
, <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154ad948491bc7f5dcbe9925aba6c01e8454">k_secondary</a>
, <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154ac17c6f5dbcd3bff7a5ba7cd332d1927d">k_secondary_preferred</a>
, <br />
&#160;&#160;<a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154a553bf70a232bf3f05606b7090b690c5e">k_nearest</a>
<br />
 }</td></tr>
<tr class="memdesc:a7e9a58e6c82169d2eb569f7993325154"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines which members in a replica set are acceptable to read from.  <a href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154">More...</a><br /></td></tr>
<tr class="separator:a7e9a58e6c82169d2eb569f7993325154"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8583132a802ab6bc7c55f903b2b57982"><td class="memItemLeft" align="right" valign="top"><a id="a8583132a802ab6bc7c55f903b2b57982" name="a8583132a802ab6bc7c55f903b2b57982"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>read_preference</b> ()</td></tr>
<tr class="memdesc:a8583132a802ab6bc7c55f903b2b57982"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a> with read_mode set to k_primary. <br /></td></tr>
<tr class="separator:a8583132a802ab6bc7c55f903b2b57982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a068f50af454e8e55b6474cf3602a5ae2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a068f50af454e8e55b6474cf3602a5ae2">read_preference</a> (<a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154">read_mode</a> <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a6e1d846c9cedfaa4301f018472a7da5e">mode</a>)</td></tr>
<tr class="memdesc:a068f50af454e8e55b6474cf3602a5ae2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>.  <br /></td></tr>
<tr class="separator:a068f50af454e8e55b6474cf3602a5ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f380d2fac1498942179bc318622869"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a54f380d2fac1498942179bc318622869">read_preference</a> (<a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154">read_mode</a> <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a6e1d846c9cedfaa4301f018472a7da5e">mode</a>, bsoncxx::document::view_or_value <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#ae2e2a89ff39bb02b493fbf3a34b8de5f">tags</a>)</td></tr>
<tr class="memdesc:a54f380d2fac1498942179bc318622869"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a> with tags.  <br /></td></tr>
<tr class="separator:a54f380d2fac1498942179bc318622869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d912d9434db731a2d55df7f2b982478"><td class="memItemLeft" align="right" valign="top"><a id="a9d912d9434db731a2d55df7f2b982478" name="a9d912d9434db731a2d55df7f2b982478"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>read_preference</b> (const <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp;)</td></tr>
<tr class="memdesc:a9d912d9434db731a2d55df7f2b982478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructs a <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>. <br /></td></tr>
<tr class="separator:a9d912d9434db731a2d55df7f2b982478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a935154dc8876ac6ea1cf0fca62f9dc35"><td class="memItemLeft" align="right" valign="top"><a id="a935154dc8876ac6ea1cf0fca62f9dc35" name="a935154dc8876ac6ea1cf0fca62f9dc35"></a>
<a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp;)</td></tr>
<tr class="memdesc:a935154dc8876ac6ea1cf0fca62f9dc35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy assigns a <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>. <br /></td></tr>
<tr class="separator:a935154dc8876ac6ea1cf0fca62f9dc35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a463cf7dc534a374ed1d9ce280e876624"><td class="memItemLeft" align="right" valign="top"><a id="a463cf7dc534a374ed1d9ce280e876624" name="a463cf7dc534a374ed1d9ce280e876624"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>read_preference</b> (<a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp;&amp;) noexcept</td></tr>
<tr class="memdesc:a463cf7dc534a374ed1d9ce280e876624"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructs a <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>. <br /></td></tr>
<tr class="separator:a463cf7dc534a374ed1d9ce280e876624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbd4c3e22567cab178a193c5b58145ec"><td class="memItemLeft" align="right" valign="top"><a id="abbd4c3e22567cab178a193c5b58145ec" name="abbd4c3e22567cab178a193c5b58145ec"></a>
<a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp;&amp;) noexcept</td></tr>
<tr class="memdesc:abbd4c3e22567cab178a193c5b58145ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move assigns a <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>. <br /></td></tr>
<tr class="separator:abbd4c3e22567cab178a193c5b58145ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad651d315c9bd329012488b78b11ae51c"><td class="memItemLeft" align="right" valign="top"><a id="ad651d315c9bd329012488b78b11ae51c" name="ad651d315c9bd329012488b78b11ae51c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>~read_preference</b> ()</td></tr>
<tr class="memdesc:ad651d315c9bd329012488b78b11ae51c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>. <br /></td></tr>
<tr class="separator:ad651d315c9bd329012488b78b11ae51c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e1d846c9cedfaa4301f018472a7da5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a6e1d846c9cedfaa4301f018472a7da5e">mode</a> (<a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154">read_mode</a> mode)</td></tr>
<tr class="memdesc:a6e1d846c9cedfaa4301f018472a7da5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a new mode for this <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>.  <br /></td></tr>
<tr class="separator:a6e1d846c9cedfaa4301f018472a7da5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5bb4862c3a055c9610cf075f9200cce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154">read_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#aa5bb4862c3a055c9610cf075f9200cce">mode</a> () const</td></tr>
<tr class="memdesc:aa5bb4862c3a055c9610cf075f9200cce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current read_mode for this <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>.  <br /></td></tr>
<tr class="separator:aa5bb4862c3a055c9610cf075f9200cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2e2a89ff39bb02b493fbf3a34b8de5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#ae2e2a89ff39bb02b493fbf3a34b8de5f">tags</a> (bsoncxx::document::view_or_value tag_set_list)</td></tr>
<tr class="memdesc:ae2e2a89ff39bb02b493fbf3a34b8de5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets or updates the tag set list for this <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>.  <br /></td></tr>
<tr class="separator:ae2e2a89ff39bb02b493fbf3a34b8de5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e08acef0b38a1a6db8525dcc6cd7c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a75e08acef0b38a1a6db8525dcc6cd7c1">tags</a> (bsoncxx::array::view_or_value tag_set_list)</td></tr>
<tr class="memdesc:a75e08acef0b38a1a6db8525dcc6cd7c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets or updates the tag set list for this <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>.  <br /></td></tr>
<tr class="separator:a75e08acef0b38a1a6db8525dcc6cd7c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a654164f2062f416a2819ad844c5e8a1c"><td class="memItemLeft" align="right" valign="top">stdx::optional&lt; bsoncxx::document::view &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a654164f2062f416a2819ad844c5e8a1c">tags</a> () const</td></tr>
<tr class="memdesc:a654164f2062f416a2819ad844c5e8a1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets or updates the tag set list for this <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>.  <br /></td></tr>
<tr class="separator:a654164f2062f416a2819ad844c5e8a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a704eb1a463c32cf386f3d72342849fe0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a704eb1a463c32cf386f3d72342849fe0">max_staleness</a> (std::chrono::seconds max_staleness)</td></tr>
<tr class="memdesc:a704eb1a463c32cf386f3d72342849fe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the max staleness setting for this <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>.  <br /></td></tr>
<tr class="separator:a704eb1a463c32cf386f3d72342849fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f44f3347ee1541acc0d11b97555b390"><td class="memItemLeft" align="right" valign="top">stdx::optional&lt; std::chrono::seconds &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a1f44f3347ee1541acc0d11b97555b390">max_staleness</a> () const</td></tr>
<tr class="memdesc:a1f44f3347ee1541acc0d11b97555b390"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current max staleness setting for this <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>.  <br /></td></tr>
<tr class="separator:a1f44f3347ee1541acc0d11b97555b390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52f8da9310c119e0ef6b56346177887"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#ad52f8da9310c119e0ef6b56346177887">hedge</a> (bsoncxx::document::view_or_value hedge)</td></tr>
<tr class="memdesc:ad52f8da9310c119e0ef6b56346177887"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the hedge document to be used for the read preference.  <br /></td></tr>
<tr class="separator:ad52f8da9310c119e0ef6b56346177887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a321ca77aa6707c0ba259758fee12b5a9"><td class="memItemLeft" align="right" valign="top">const stdx::optional&lt; bsoncxx::document::view &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a321ca77aa6707c0ba259758fee12b5a9">hedge</a> () const</td></tr>
<tr class="memdesc:a321ca77aa6707c0ba259758fee12b5a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current hedge document to be used for the read preference.  <br /></td></tr>
<tr class="separator:a321ca77aa6707c0ba259758fee12b5a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class representing a preference for how the driver routes read operations to members of a replica set or to a sharded cluster. </p>
<p>By default read operations are directed to the primary member in a replica set. Reading from the primary guarantees that read operations reflect the latest version of a document. However, by distributing some or all reads to secondary members of the replica set, you can improve read throughput or reduce latency for an application that does not require fully up-to-date data.</p>
<p>Read preference can be broadly specified by setting a mode. It is also possible to set tags in the read preference for more granular control, and to target specific members of a replica set via attributes other than their current state as a primary or secondary node. Furthermore, it is also possible to set a staleness threshold, such that the read is limited to targeting secondaries whose staleness is less than or equal to the given threshold.</p>
<p>Read preferences are ignored for direct connections to a single mongod instance. However, in order to perform read operations on a direct connection to a secondary member of a replica set, you must set a read preference that allows reading from secondaries.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://www.mongodb.com/docs/manual/core/read-preference/">https://www.mongodb.com/docs/manual/core/read-preference/</a> </dd></dl>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a7e9a58e6c82169d2eb569f7993325154" name="a7e9a58e6c82169d2eb569f7993325154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e9a58e6c82169d2eb569f7993325154">&#9670;&#160;</a></span>read_mode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154">mongocxx::v_noabi::read_preference::read_mode</a> : std::uint8_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines which members in a replica set are acceptable to read from. </p>
<dl class="section warning"><dt>Warning</dt><dd>Read preference tags are not respected when the mode is set to primary.</dd>
<dd>
All read preference modes except primary may return stale data because secondaries replicate operations from the primary with some delay. Ensure that your application can tolerate stale data if you choose to use a non-primary mode.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://www.mongodb.com/docs/manual/core/read-preference/#read-preference-modes">https://www.mongodb.com/docs/manual/core/read-preference/#read-preference-modes</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7e9a58e6c82169d2eb569f7993325154ab207f43716d9bd2df75fedcb4ff4708d" name="a7e9a58e6c82169d2eb569f7993325154ab207f43716d9bd2df75fedcb4ff4708d"></a>k_primary&#160;</td><td class="fielddoc"><p>Only read from a primary node. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e9a58e6c82169d2eb569f7993325154af25c7f2a3bd09659341ac2c5c4e48825" name="a7e9a58e6c82169d2eb569f7993325154af25c7f2a3bd09659341ac2c5c4e48825"></a>k_primary_preferred&#160;</td><td class="fielddoc"><p>Prefer to read from a primary node. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e9a58e6c82169d2eb569f7993325154ad948491bc7f5dcbe9925aba6c01e8454" name="a7e9a58e6c82169d2eb569f7993325154ad948491bc7f5dcbe9925aba6c01e8454"></a>k_secondary&#160;</td><td class="fielddoc"><p>Only read from secondary nodes. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e9a58e6c82169d2eb569f7993325154ac17c6f5dbcd3bff7a5ba7cd332d1927d" name="a7e9a58e6c82169d2eb569f7993325154ac17c6f5dbcd3bff7a5ba7cd332d1927d"></a>k_secondary_preferred&#160;</td><td class="fielddoc"><p>Prefer to read from secondary nodes. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e9a58e6c82169d2eb569f7993325154a553bf70a232bf3f05606b7090b690c5e" name="a7e9a58e6c82169d2eb569f7993325154a553bf70a232bf3f05606b7090b690c5e"></a>k_nearest&#160;</td><td class="fielddoc"><p>Read from the node with the lowest latency irrespective of state. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a068f50af454e8e55b6474cf3602a5ae2" name="a068f50af454e8e55b6474cf3602a5ae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a068f50af454e8e55b6474cf3602a5ae2">&#9670;&#160;</a></span>read_preference() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongocxx::v_noabi::read_preference::read_preference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154">read_mode</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>Specifies the read_mode.</td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000026">Deprecated:</a></b></dt><dd>The constructor with no arguments and the method <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a6e1d846c9cedfaa4301f018472a7da5e" title="Sets a new mode for this read_preference.">mode()</a> should be used. </dd></dl>

</div>
</div>
<a id="a54f380d2fac1498942179bc318622869" name="a54f380d2fac1498942179bc318622869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54f380d2fac1498942179bc318622869">&#9670;&#160;</a></span>read_preference() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongocxx::v_noabi::read_preference::read_preference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154">read_mode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bsoncxx::document::view_or_value&#160;</td>
          <td class="paramname"><em>tags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a> with tags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>A <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a> read_mode. </td></tr>
    <tr><td class="paramname">tags</td><td>A document representing tags to use for the <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://www.mongodb.com/docs/manual/core/read-preference/#tag-sets">https://www.mongodb.com/docs/manual/core/read-preference/#tag-sets</a></dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000027">Deprecated:</a></b></dt><dd>The <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#ae2e2a89ff39bb02b493fbf3a34b8de5f" title="Sets or updates the tag set list for this read_preference.">tags()</a> method should be used instead. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a321ca77aa6707c0ba259758fee12b5a9" name="a321ca77aa6707c0ba259758fee12b5a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a321ca77aa6707c0ba259758fee12b5a9">&#9670;&#160;</a></span>hedge() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const stdx::optional&lt; bsoncxx::document::view &gt; mongocxx::v_noabi::read_preference::hedge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current hedge document to be used for the read preference. </p>
<dl class="section return"><dt>Returns</dt><dd>A hedge document if one was set. </dd></dl>

</div>
</div>
<a id="ad52f8da9310c119e0ef6b56346177887" name="ad52f8da9310c119e0ef6b56346177887"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad52f8da9310c119e0ef6b56346177887">&#9670;&#160;</a></span>hedge() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp; mongocxx::v_noabi::read_preference::hedge </td>
          <td>(</td>
          <td class="paramtype">bsoncxx::document::view_or_value&#160;</td>
          <td class="paramname"><em>hedge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the hedge document to be used for the read preference. </p>
<p>Sharded clusters running MongoDB 4.4 or later can dispatch read operations in parallel, returning the result from the fastest host and cancelling the unfinished operations.</p>
<p>This may be an empty document or a document of the form { enabled: &lt;boolean&gt; }.</p>
<p>Hedged reads are automatically enabled in MongoDB 4.4+ when using a <code>nearest</code> read preference. To explicitly enable or disable hedging, the <code>hedge</code> document must be passed. An empty document uses server defaults to control hedging, but the <code>enabled</code> key may be set to <code>true</code> or <code>false</code> to explicitly enable or disable hedged reads.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hedge</td><td>The hedge document to set. For example, the document { enabled: true }.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the object on which this member function is being called. This facilitates method chaining. </dd></dl>

</div>
</div>
<a id="a1f44f3347ee1541acc0d11b97555b390" name="a1f44f3347ee1541acc0d11b97555b390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f44f3347ee1541acc0d11b97555b390">&#9670;&#160;</a></span>max_staleness() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stdx::optional&lt; std::chrono::seconds &gt; mongocxx::v_noabi::read_preference::max_staleness </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current max staleness setting for this <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>The optionally current max staleness setting. </dd></dl>

</div>
</div>
<a id="a704eb1a463c32cf386f3d72342849fe0" name="a704eb1a463c32cf386f3d72342849fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a704eb1a463c32cf386f3d72342849fe0">&#9670;&#160;</a></span>max_staleness() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp; mongocxx::v_noabi::read_preference::max_staleness </td>
          <td>(</td>
          <td class="paramtype">std::chrono::seconds&#160;</td>
          <td class="paramname"><em>max_staleness</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the max staleness setting for this <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>. </p>
<p>Secondary servers with an estimated lag greater than this value will be excluded from selection under modes that allow secondaries.</p>
<p>Max staleness must be at least 90 seconds, and also at least the sum (in seconds) of the client's heartbeatFrequencyMS and the server's idle write period, which is 10 seconds. For general use, 90 seconds is the effective minimum. If less, an exception will be thrown when an operation is attempted.</p>
<p>Max staleness may only be used with MongoDB version 3.4 or later. If used with an earlier version, an exception will be thrown when an operation is attempted.</p>
<dl class="section note"><dt>Note</dt><dd>The max-staleness feature is designed to prevent badly-lagging servers from being selected. The staleness estimate is imprecise and shouldn't be used to try to select "up-to-date" secondaries.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_staleness</td><td>The new max staleness setting. It must be positive.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the object on which this member function is being called. This facilitates method chaining.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classmongocxx_1_1v__noabi_1_1logic__error.html" title="Class representing an exception caused by using the mongocxx API improperly.">mongocxx::logic_error</a></td><td>if the argument is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa5bb4862c3a055c9610cf075f9200cce" name="aa5bb4862c3a055c9610cf075f9200cce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5bb4862c3a055c9610cf075f9200cce">&#9670;&#160;</a></span>mode() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154">read_mode</a> mongocxx::v_noabi::read_preference::mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current read_mode for this <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>The current read_mode. </dd></dl>

</div>
</div>
<a id="a6e1d846c9cedfaa4301f018472a7da5e" name="a6e1d846c9cedfaa4301f018472a7da5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e1d846c9cedfaa4301f018472a7da5e">&#9670;&#160;</a></span>mode() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp; mongocxx::v_noabi::read_preference::mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html#a7e9a58e6c82169d2eb569f7993325154">read_mode</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a new mode for this <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>The new read preference mode.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the object on which this member function is being called. This facilitates method chaining. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2mongocxx_2client_session_8cpp-example.html#a0">examples/mongocxx/client_session.cpp</a>.</dd>
</dl>

</div>
</div>
<a id="a654164f2062f416a2819ad844c5e8a1c" name="a654164f2062f416a2819ad844c5e8a1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a654164f2062f416a2819ad844c5e8a1c">&#9670;&#160;</a></span>tags() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stdx::optional&lt; bsoncxx::document::view &gt; mongocxx::v_noabi::read_preference::tags </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets or updates the tag set list for this <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>The optionally set current tag set list.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://www.mongodb.com/docs/manual/core/read-preference-tags/">https://www.mongodb.com/docs/manual/core/read-preference-tags/</a> </dd></dl>

</div>
</div>
<a id="a75e08acef0b38a1a6db8525dcc6cd7c1" name="a75e08acef0b38a1a6db8525dcc6cd7c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75e08acef0b38a1a6db8525dcc6cd7c1">&#9670;&#160;</a></span>tags() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp; mongocxx::v_noabi::read_preference::tags </td>
          <td>(</td>
          <td class="paramtype">bsoncxx::array::view_or_value&#160;</td>
          <td class="paramname"><em>tag_set_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets or updates the tag set list for this <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag_set_list</td><td>Array of tag sets.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://www.mongodb.com/docs/manual/core/read-preference-tags/">https://www.mongodb.com/docs/manual/core/read-preference-tags/</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the object on which this member function is being called. This facilitates method chaining. </dd></dl>

</div>
</div>
<a id="ae2e2a89ff39bb02b493fbf3a34b8de5f" name="ae2e2a89ff39bb02b493fbf3a34b8de5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2e2a89ff39bb02b493fbf3a34b8de5f">&#9670;&#160;</a></span>tags() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html">read_preference</a> &amp; mongocxx::v_noabi::read_preference::tags </td>
          <td>(</td>
          <td class="paramtype">bsoncxx::document::view_or_value&#160;</td>
          <td class="paramname"><em>tag_set_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets or updates the tag set list for this <a class="el" href="classmongocxx_1_1v__noabi_1_1read__preference.html" title="Class representing a preference for how the driver routes read operations to members of a replica set...">read_preference</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag_set_list</td><td>Document representing the tag set list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://www.mongodb.com/docs/manual/core/read-preference-tags/">https://www.mongodb.com/docs/manual/core/read-preference-tags/</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the object on which this member function is being called. This facilitates method chaining. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/mongocxx/include/mongocxx/v_noabi/mongocxx/<a class="el" href="read__preference_8hpp_source.html">read_preference.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
