<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MongoDB C++ Driver: mongocxx::v_noabi::change_stream Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MongoDB C++ Driver<span id="projectnumber">&#160;mongocxx-3.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemongocxx.html">mongocxx</a></li><li class="navelem"><a class="el" href="namespacemongocxx_1_1v__noabi.html">v_noabi</a></li><li class="navelem"><a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html">change_stream</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmongocxx_1_1v__noabi_1_1change__stream-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mongocxx::v_noabi::change_stream Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class representing a MongoDB change stream.  
 <a href="classmongocxx_1_1v__noabi_1_1change__stream.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="change__stream_8hpp_source.html">change_stream.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream_1_1iterator.html">iterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class representing a MongoDB change stream iterator.  <a href="classmongocxx_1_1v__noabi_1_1change__stream_1_1iterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af71ba7f03521731bab0f68cdef5104d2"><td class="memItemLeft" align="right" valign="top"><a id="af71ba7f03521731bab0f68cdef5104d2" name="af71ba7f03521731bab0f68cdef5104d2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>change_stream</b> (<a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html">change_stream</a> &amp;&amp;other) noexcept</td></tr>
<tr class="memdesc:af71ba7f03521731bab0f68cdef5104d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructs a <a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html" title="Class representing a MongoDB change stream.">change_stream</a>. <br /></td></tr>
<tr class="separator:af71ba7f03521731bab0f68cdef5104d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6944d3827e5372351dd771ffa721c809"><td class="memItemLeft" align="right" valign="top"><a id="a6944d3827e5372351dd771ffa721c809" name="a6944d3827e5372351dd771ffa721c809"></a>
<a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html">change_stream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html">change_stream</a> &amp;&amp;other) noexcept</td></tr>
<tr class="memdesc:a6944d3827e5372351dd771ffa721c809"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move assigns a <a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html" title="Class representing a MongoDB change stream.">change_stream</a>. <br /></td></tr>
<tr class="separator:a6944d3827e5372351dd771ffa721c809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3073d64134fca18c634bbc8201bcb066"><td class="memItemLeft" align="right" valign="top"><a id="a3073d64134fca18c634bbc8201bcb066" name="a3073d64134fca18c634bbc8201bcb066"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>~change_stream</b> ()</td></tr>
<tr class="memdesc:a3073d64134fca18c634bbc8201bcb066"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a <a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html" title="Class representing a MongoDB change stream.">change_stream</a>. <br /></td></tr>
<tr class="separator:a3073d64134fca18c634bbc8201bcb066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa653f1a177623c51655d92c48f425fa6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream_1_1iterator.html">iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html#aa653f1a177623c51655d92c48f425fa6">begin</a> () const</td></tr>
<tr class="memdesc:aa653f1a177623c51655d92c48f425fa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A <a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream_1_1iterator.html" title="Class representing a MongoDB change stream iterator.">change_stream::iterator</a> points to the beginning of any available notifications.  <br /></td></tr>
<tr class="separator:aa653f1a177623c51655d92c48f425fa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fe57460721cc5cb6788617cc605fcc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream_1_1iterator.html">iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html#a5fe57460721cc5cb6788617cc605fcc6">end</a> () const</td></tr>
<tr class="memdesc:a5fe57460721cc5cb6788617cc605fcc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A <a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream_1_1iterator.html" title="Class representing a MongoDB change stream iterator.">change_stream::iterator</a> indicating stream exhaustion, meaning that no notifications are available from the stream.  <br /></td></tr>
<tr class="separator:a5fe57460721cc5cb6788617cc605fcc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91385c879699e67d62845a99961204ef"><td class="memItemLeft" align="right" valign="top">bsoncxx::stdx::optional&lt; bsoncxx::document::view &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html#a91385c879699e67d62845a99961204ef">get_resume_token</a> () const</td></tr>
<tr class="memdesc:a91385c879699e67d62845a99961204ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a resume token for this change stream.  <br /></td></tr>
<tr class="separator:a91385c879699e67d62845a99961204ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class representing a MongoDB change stream. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aa653f1a177623c51655d92c48f425fa6" name="aa653f1a177623c51655d92c48f425fa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa653f1a177623c51655d92c48f425fa6">&#9670;&#160;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream_1_1iterator.html">iterator</a> mongocxx::v_noabi::change_stream::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A <a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream_1_1iterator.html" title="Class representing a MongoDB change stream iterator.">change_stream::iterator</a> points to the beginning of any available notifications. </p>
<p>Each call to <a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html#aa653f1a177623c51655d92c48f425fa6" title="A change_stream::iterator points to the beginning of any available notifications.">begin()</a> advances to the next available notification. The state of all iterators is tracked by the <a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html" title="Class representing a MongoDB change stream.">change_stream</a> itself, so advancing one iterator advances all iterators.</p>
<p><a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html#aa653f1a177623c51655d92c48f425fa6" title="A change_stream::iterator points to the beginning of any available notifications.">change_stream::begin()</a> and increment operators may block if the current batch of documents is exhausted. They will not return until a notification is available, the max_await_time (from the <a class="el" href="classmongocxx_1_1v__noabi_1_1options_1_1change__stream.html" title="Class representing MongoDB change stream options.">options::change_stream</a>) milliseconds have elapsed, or a server error is encountered.</p>
<p>When <a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html#aa653f1a177623c51655d92c48f425fa6" title="A change_stream::iterator points to the beginning of any available notifications.">change_stream.begin()</a> == <a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html#a5fe57460721cc5cb6788617cc605fcc6" title="A change_stream::iterator indicating stream exhaustion, meaning that no notifications are available f...">change_stream.end()</a>, no notifications are available. Each call to <a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream.html#aa653f1a177623c51655d92c48f425fa6" title="A change_stream::iterator points to the beginning of any available notifications.">change_stream.begin()</a> checks again for newly-available notifications.</p>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream_1_1iterator.html" title="Class representing a MongoDB change stream iterator.">change_stream::iterator</a> </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throws</td><td><a class="el" href="classmongocxx_1_1v__noabi_1_1query__exception.html" title="Class representing an exception during a query operation.">mongocxx::query_exception</a> if the query failed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5fe57460721cc5cb6788617cc605fcc6" name="a5fe57460721cc5cb6788617cc605fcc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fe57460721cc5cb6788617cc605fcc6">&#9670;&#160;</a></span>end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream_1_1iterator.html">iterator</a> mongocxx::v_noabi::change_stream::end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A <a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream_1_1iterator.html" title="Class representing a MongoDB change stream iterator.">change_stream::iterator</a> indicating stream exhaustion, meaning that no notifications are available from the stream. </p>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="classmongocxx_1_1v__noabi_1_1change__stream_1_1iterator.html" title="Class representing a MongoDB change stream iterator.">change_stream::iterator</a> indicating exhaustion </dd></dl>

</div>
</div>
<a id="a91385c879699e67d62845a99961204ef" name="a91385c879699e67d62845a99961204ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91385c879699e67d62845a99961204ef">&#9670;&#160;</a></span>get_resume_token()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bsoncxx::stdx::optional&lt; bsoncxx::document::view &gt; mongocxx::v_noabi::change_stream::get_resume_token </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a resume token for this change stream. </p>
<p>If the change stream has not been iterated, and either resume_after or start_after was specified in the options to this change stream, the specified value will be returned by this method. If neither resume_after or start_after was set on the options for this change stream, and it has not been iterated, this method will return no token.</p>
<p>Once this change stream has been iterated, this method will return the resume token of the most recently returned document in the stream, or a postBatchResumeToken if the current batch of documents has been exhausted.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://www.mongodb.com/docs/manual/changeStreams/#resume-tokens">https://www.mongodb.com/docs/manual/changeStreams/#resume-tokens</a></dd></dl>
<p>The returned document::view is valid for the lifetime of the stream and its data may be updated if the change stream is iterated after this function. The value may be copied to extend its lifetime or preserve the current resume token.</p>
<dl class="section return"><dt>Returns</dt><dd>The token. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/mongocxx/include/mongocxx/v_noabi/mongocxx/<a class="el" href="change__stream_8hpp_source.html">change_stream.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
