<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MongoDB C++ Driver: mongo::logger::LogDomain&lt; E &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MongoDB C++ Driver<span id="projectnumber">&#160;legacy-1.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemongo.html">mongo</a></li><li class="navelem"><b>logger</b></li><li class="navelem"><a class="el" href="classmongo_1_1logger_1_1LogDomain.html">LogDomain</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmongo_1_1logger_1_1LogDomain-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mongo::logger::LogDomain&lt; E &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Logging domain for events of type E.  
 <a href="classmongo_1_1logger_1_1LogDomain.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="log__domain_8h_source.html">log_domain.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for mongo::logger::LogDomain&lt; E &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classmongo_1_1logger_1_1LogDomain.png" usemap="#mongo::logger::LogDomain_3C_20E_20_3E_map" alt=""/>
  <map id="mongo::logger::LogDomain_3C_20E_20_3E_map" name="mongo::logger::LogDomain_3C_20E_20_3E_map">
<area href="classmongo_1_1logger_1_1ComponentMessageLogDomain.html" title="Logging domain for ephemeral messages with minimum severity." alt="mongo::logger::ComponentMessageLogDomain" shape="rect" coords="0,56,274,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1logger_1_1LogDomain_1_1AppenderHandle.html">AppenderHandle</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opaque handle returned by <a class="el" href="classmongo_1_1logger_1_1LogDomain.html#a6c3595ec745fd2c0929502ddf2973c91" title="Attaches &quot;appender&quot; to this domain, taking ownership of it.">attachAppender()</a>, which can be subsequently passed to <a class="el" href="classmongo_1_1logger_1_1LogDomain.html#a8ec1ceb91a5e7384f943412ef8235468" title="Detaches the appender referenced by &quot;handle&quot; from this domain, releasing ownership of it.">detachAppender()</a> to detach an appender from an instance of <a class="el" href="classmongo_1_1logger_1_1LogDomain.html" title="Logging domain for events of type E.">LogDomain</a>.  <a href="classmongo_1_1logger_1_1LogDomain_1_1AppenderHandle.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5578386295ea5c243ccf1b391793138c" id="r_a5578386295ea5c243ccf1b391793138c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1logger_1_1LogDomain.html#a5578386295ea5c243ccf1b391793138c">append</a> (const Event &amp;event)</td></tr>
<tr class="memdesc:a5578386295ea5c243ccf1b391793138c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives an event for logging, calling append(event) on all attached appenders.  <br /></td></tr>
<tr class="separator:a5578386295ea5c243ccf1b391793138c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35d18cb3d776fce6e993a227d42673bc" id="r_a35d18cb3d776fce6e993a227d42673bc"><td class="memItemLeft" align="right" valign="top"><a id="a35d18cb3d776fce6e993a227d42673bc" name="a35d18cb3d776fce6e993a227d42673bc"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>getAbortOnFailure</b> () const</td></tr>
<tr class="memdesc:a35d18cb3d776fce6e993a227d42673bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the state of the abortOnFailure flag. <br /></td></tr>
<tr class="separator:a35d18cb3d776fce6e993a227d42673bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92cafb94c4fd2cc0cd0e9f7681d60ae0" id="r_a92cafb94c4fd2cc0cd0e9f7681d60ae0"><td class="memItemLeft" align="right" valign="top"><a id="a92cafb94c4fd2cc0cd0e9f7681d60ae0" name="a92cafb94c4fd2cc0cd0e9f7681d60ae0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setAbortOnFailure</b> (bool abortOnFailure)</td></tr>
<tr class="memdesc:a92cafb94c4fd2cc0cd0e9f7681d60ae0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the state of the abortOnFailure flag. <br /></td></tr>
<tr class="separator:a92cafb94c4fd2cc0cd0e9f7681d60ae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c3595ec745fd2c0929502ddf2973c91" id="r_a6c3595ec745fd2c0929502ddf2973c91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1logger_1_1LogDomain_1_1AppenderHandle.html">AppenderHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1logger_1_1LogDomain.html#a6c3595ec745fd2c0929502ddf2973c91">attachAppender</a> (AppenderAutoPtr appender)</td></tr>
<tr class="memdesc:a6c3595ec745fd2c0929502ddf2973c91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attaches "appender" to this domain, taking ownership of it.  <br /></td></tr>
<tr class="separator:a6c3595ec745fd2c0929502ddf2973c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec1ceb91a5e7384f943412ef8235468" id="r_a8ec1ceb91a5e7384f943412ef8235468"><td class="memItemLeft" align="right" valign="top">AppenderAutoPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1logger_1_1LogDomain.html#a8ec1ceb91a5e7384f943412ef8235468">detachAppender</a> (<a class="el" href="classmongo_1_1logger_1_1LogDomain_1_1AppenderHandle.html">AppenderHandle</a> handle)</td></tr>
<tr class="memdesc:a8ec1ceb91a5e7384f943412ef8235468"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detaches the appender referenced by "handle" from this domain, releasing ownership of it.  <br /></td></tr>
<tr class="separator:a8ec1ceb91a5e7384f943412ef8235468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a141d36f23c741c987d029246961955c6" id="r_a141d36f23c741c987d029246961955c6"><td class="memItemLeft" align="right" valign="top"><a id="a141d36f23c741c987d029246961955c6" name="a141d36f23c741c987d029246961955c6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>clearAppenders</b> ()</td></tr>
<tr class="memdesc:a141d36f23c741c987d029246961955c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy all attached appenders, invalidating all handles. <br /></td></tr>
<tr class="separator:a141d36f23c741c987d029246961955c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename E&gt;<br />
class mongo::logger::LogDomain&lt; E &gt;</div><p>Logging domain for events of type E. </p>
<p>A logging domain consists of a set of Appenders.</p>
<p>TODO: The severity doesn't seem to apply for auditing, maybe it only belongs on the MessageLogManager? We don't really have multiple tunable logging domains, right now. Other than the global domain, shouldLog doesn't matter.</p>
<p>Usage: Configure the log domain in a single threaded context, using attachAppender, detachAppender and <a class="el" href="classmongo_1_1logger_1_1LogDomain.html#a141d36f23c741c987d029246961955c6" title="Destroy all attached appenders, invalidating all handles.">clearAppenders()</a>. The domain takes ownership of any attached appender, returning an <a class="el" href="classmongo_1_1logger_1_1LogDomain_1_1AppenderHandle.html" title="Opaque handle returned by attachAppender(), which can be subsequently passed to detachAppender() to d...">AppenderHandle</a> for each attached appender. That handle may be used later to detach the appender, causing the domain to release ownership of it. Mostly, this attach/detach behavior is useful in testing, since you do not want to change the appenders of a domain that is currently receiving <a class="el" href="classmongo_1_1logger_1_1LogDomain.html#a5578386295ea5c243ccf1b391793138c" title="Receives an event for logging, calling append(event) on all attached appenders.">append()</a> calls.</p>
<p>Once you've configured the domain, call <a class="el" href="classmongo_1_1logger_1_1LogDomain.html#a5578386295ea5c243ccf1b391793138c" title="Receives an event for logging, calling append(event) on all attached appenders.">append()</a> from potentially many threads, to add log messages. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a5578386295ea5c243ccf1b391793138c" name="a5578386295ea5c243ccf1b391793138c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5578386295ea5c243ccf1b391793138c">&#9670;&#160;</a></span>append()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename E &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1Status.html">Status</a> <a class="el" href="classmongo_1_1logger_1_1LogDomain.html">mongo::logger::LogDomain</a>&lt; E &gt;::append </td>
          <td>(</td>
          <td class="paramtype">const Event &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives an event for logging, calling append(event) on all attached appenders. </p>
<p>If any appender fails, the behavior is determined by the abortOnFailure flag: *If abortOnFailure is set, ::abort() is immediately called. *If abortOnFailure is not set, the error is returned and no further appenders are called. </p>

</div>
</div>
<a id="a6c3595ec745fd2c0929502ddf2973c91" name="a6c3595ec745fd2c0929502ddf2973c91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c3595ec745fd2c0929502ddf2973c91">&#9670;&#160;</a></span>attachAppender()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename E &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1logger_1_1LogDomain.html">LogDomain</a>&lt; E &gt;::AppenderHandle <a class="el" href="classmongo_1_1logger_1_1LogDomain.html">mongo::logger::LogDomain</a>&lt; E &gt;::attachAppender </td>
          <td>(</td>
          <td class="paramtype">AppenderAutoPtr&#160;</td>
          <td class="paramname"><em>appender</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attaches "appender" to this domain, taking ownership of it. </p>
<p>Returns a handle that may be used later to detach this appender. </p>

</div>
</div>
<a id="a8ec1ceb91a5e7384f943412ef8235468" name="a8ec1ceb91a5e7384f943412ef8235468"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ec1ceb91a5e7384f943412ef8235468">&#9670;&#160;</a></span>detachAppender()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename E &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1logger_1_1LogDomain.html">LogDomain</a>&lt; E &gt;::AppenderAutoPtr <a class="el" href="classmongo_1_1logger_1_1LogDomain.html">mongo::logger::LogDomain</a>&lt; E &gt;::detachAppender </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1logger_1_1LogDomain_1_1AppenderHandle.html">AppenderHandle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detaches the appender referenced by "handle" from this domain, releasing ownership of it. </p>
<p>Returns an auto_ptr to the handler to the caller, who is now responsible for its deletion. Caller should consider "handle" is invalid after this call. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/mongo/logger/<a class="el" href="log__domain_8h_source.html">log_domain.h</a></li>
<li>src/mongo/logger/<a class="el" href="log__domain-impl_8h_source.html">log_domain-impl.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
