<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>MongoDB C++ Driver: mongo::InsertWriteOperation Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MongoDB C++ Driver
   &#160;<span id="projectnumber">legacy-1.0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemongo.html">mongo</a></li><li class="navelem"><a class="el" href="classmongo_1_1InsertWriteOperation.html">InsertWriteOperation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmongo_1_1InsertWriteOperation-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mongo::InsertWriteOperation Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for mongo::InsertWriteOperation:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classmongo_1_1InsertWriteOperation.png" usemap="#mongo::InsertWriteOperation_map" alt=""/>
  <map id="mongo::InsertWriteOperation_map" name="mongo::InsertWriteOperation_map">
<area href="classmongo_1_1WriteOperationBase.html" alt="mongo::WriteOperationBase" shape="rect" coords="0,56,171,80"/>
<area href="classmongo_1_1WriteOperation.html" title="Represents a single server side write operation and encapsulates the process for encoding the operati..." alt="mongo::WriteOperation" shape="rect" coords="0,0,171,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acb988b3be800e2e280f433a8f2802a12"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acb988b3be800e2e280f433a8f2802a12"></a>
virtual WriteOpType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1InsertWriteOperation.html#acb988b3be800e2e280f433a8f2802a12">operationType</a> () const </td></tr>
<tr class="memdesc:acb988b3be800e2e280f433a8f2802a12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the MongoDB wire protocol operation type represented by an instance of this particular write operation. <br /></td></tr>
<tr class="separator:acb988b3be800e2e280f433a8f2802a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed4549446ed13372fcb2b2782ea7ec25"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed4549446ed13372fcb2b2782ea7ec25"></a>
virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1InsertWriteOperation.html#aed4549446ed13372fcb2b2782ea7ec25">batchName</a> () const </td></tr>
<tr class="memdesc:aed4549446ed13372fcb2b2782ea7ec25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name for a batch of this type of write operation. <br /></td></tr>
<tr class="separator:aed4549446ed13372fcb2b2782ea7ec25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d7629090e5478656f253f7022f34f87"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d7629090e5478656f253f7022f34f87"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1InsertWriteOperation.html#a5d7629090e5478656f253f7022f34f87">incrementalSize</a> () const </td></tr>
<tr class="memdesc:a5d7629090e5478656f253f7022f34f87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the incremental size (in bytes) required to add this write operation to a batch. <br /></td></tr>
<tr class="separator:a5d7629090e5478656f253f7022f34f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d22d5372eb97314afde0c00d67bd383"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1InsertWriteOperation.html#a3d22d5372eb97314afde0c00d67bd383">startRequest</a> (const std::string &amp;ns, bool ordered, <a class="el" href="classmongo_1_1__BufBuilder.html">BufBuilder</a> *builder) const </td></tr>
<tr class="memdesc:a3d22d5372eb97314afde0c00d67bd383"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends the preamble for a wire protocol message into the supplied BufBuilder.  <a href="#a3d22d5372eb97314afde0c00d67bd383">More...</a><br /></td></tr>
<tr class="separator:a3d22d5372eb97314afde0c00d67bd383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae14a931471c207d651429c3e5ba90921"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1InsertWriteOperation.html#ae14a931471c207d651429c3e5ba90921">appendSelfToRequest</a> (<a class="el" href="classmongo_1_1__BufBuilder.html">BufBuilder</a> *builder) const </td></tr>
<tr class="memdesc:ae14a931471c207d651429c3e5ba90921"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends a document (or documents in the case of update) which describe the write operation represented by an instance of this class into the supplied BufBuilder.  <a href="#ae14a931471c207d651429c3e5ba90921">More...</a><br /></td></tr>
<tr class="separator:ae14a931471c207d651429c3e5ba90921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77b7344658b003ba22782ffb03c3889c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1InsertWriteOperation.html#a77b7344658b003ba22782ffb03c3889c">startCommand</a> (const std::string &amp;ns, <a class="el" href="classmongo_1_1BSONObjBuilder.html">BSONObjBuilder</a> *command) const </td></tr>
<tr class="memdesc:a77b7344658b003ba22782ffb03c3889c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends the preamble for a write command into the supplied <a class="el" href="classmongo_1_1BSONObjBuilder.html" title="Utility for creating a BSONObj. ">BSONObjBuilder</a>.  <a href="#a77b7344658b003ba22782ffb03c3889c">More...</a><br /></td></tr>
<tr class="separator:a77b7344658b003ba22782ffb03c3889c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af858a1415128af2da3af8584b8d558d4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1InsertWriteOperation.html#af858a1415128af2da3af8584b8d558d4">appendSelfToCommand</a> (<a class="el" href="classmongo_1_1BSONArrayBuilder.html">BSONArrayBuilder</a> *batch) const </td></tr>
<tr class="memdesc:af858a1415128af2da3af8584b8d558d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends a single document that describes the write operation represented by an instance of this class into the supplied <a class="el" href="classmongo_1_1BSONArrayBuilder.html">BSONArrayBuilder</a>.  <a href="#af858a1415128af2da3af8584b8d558d4">More...</a><br /></td></tr>
<tr class="separator:af858a1415128af2da3af8584b8d558d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b565900553897c30a98efe360eb6ee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a22b565900553897c30a98efe360eb6ee"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1InsertWriteOperation.html#a22b565900553897c30a98efe360eb6ee">appendSelfToBSONObj</a> (<a class="el" href="classmongo_1_1BSONObjBuilder.html">BSONObjBuilder</a> *obj) const </td></tr>
<tr class="memdesc:a22b565900553897c30a98efe360eb6ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends the data represented by an instance of this class to a <a class="el" href="classmongo_1_1BSONObjBuilder.html" title="Utility for creating a BSONObj. ">BSONObjBuilder</a>. <br /></td></tr>
<tr class="separator:a22b565900553897c30a98efe360eb6ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classmongo_1_1WriteOperationBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classmongo_1_1WriteOperationBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classmongo_1_1WriteOperationBase.html">mongo::WriteOperationBase</a></td></tr>
<tr class="memitem:a41229763f2b2460c0ff34f6844ce0d89 inherit pub_methods_classmongo_1_1WriteOperationBase"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a41229763f2b2460c0ff34f6844ce0d89"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WriteOperationBase.html#a41229763f2b2460c0ff34f6844ce0d89">setBulkIndex</a> (size_t index)</td></tr>
<tr class="memdesc:a41229763f2b2460c0ff34f6844ce0d89 inherit pub_methods_classmongo_1_1WriteOperationBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the index of this <a class="el" href="classmongo_1_1WriteOperation.html" title="Represents a single server side write operation and encapsulates the process for encoding the operati...">WriteOperation</a> in the context of a larger bulk operation. <br /></td></tr>
<tr class="separator:a41229763f2b2460c0ff34f6844ce0d89 inherit pub_methods_classmongo_1_1WriteOperationBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab48a4bcaa0be6e518092a80e3f36e8ef inherit pub_methods_classmongo_1_1WriteOperationBase"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab48a4bcaa0be6e518092a80e3f36e8ef"></a>
virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WriteOperationBase.html#ab48a4bcaa0be6e518092a80e3f36e8ef">getBulkIndex</a> () const </td></tr>
<tr class="memdesc:ab48a4bcaa0be6e518092a80e3f36e8ef inherit pub_methods_classmongo_1_1WriteOperationBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">The index of this <a class="el" href="classmongo_1_1WriteOperation.html" title="Represents a single server side write operation and encapsulates the process for encoding the operati...">WriteOperation</a> in the context of a larger bulk operation. <br /></td></tr>
<tr class="separator:ab48a4bcaa0be6e518092a80e3f36e8ef inherit pub_methods_classmongo_1_1WriteOperationBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af858a1415128af2da3af8584b8d558d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void mongo::InsertWriteOperation::appendSelfToCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1BSONArrayBuilder.html">BSONArrayBuilder</a> *&#160;</td>
          <td class="paramname"><em>batch</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Appends a single document that describes the write operation represented by an instance of this class into the supplied <a class="el" href="classmongo_1_1BSONArrayBuilder.html">BSONArrayBuilder</a>. </p>
<p>This method will be called multiple times by a <a class="el" href="classmongo_1_1DBClientWriter.html">DBClientWriter</a> in order to batch operations of the same type into a single command.</p>
<p>NOTE: The ultimate size of the of the command is bounded by the sever's maxBsonObjectSize. </p>

<p>Implements <a class="el" href="classmongo_1_1WriteOperation.html#a1748d87c7c029e7697b941880784cfda">mongo::WriteOperation</a>.</p>

</div>
</div>
<a class="anchor" id="ae14a931471c207d651429c3e5ba90921"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void mongo::InsertWriteOperation::appendSelfToRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1__BufBuilder.html">BufBuilder</a> *&#160;</td>
          <td class="paramname"><em>builder</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Appends a document (or documents in the case of update) which describe the write operation represented by an instance of this class into the supplied BufBuilder. </p>
<p>This method may be called multiple times by a <a class="el" href="classmongo_1_1WireProtocolWriter.html">WireProtocolWriter</a> in order to batch operations of the same type into a single wire protocol request.</p>
<p>NOTE: The size of this portion of the message is flexible but the size of the message itself is bounded by the server's maxMessageSizeBytes. </p>

<p>Implements <a class="el" href="classmongo_1_1WriteOperation.html#a53470ffe576b058c71546ad8a1021a46">mongo::WriteOperation</a>.</p>

</div>
</div>
<a class="anchor" id="a77b7344658b003ba22782ffb03c3889c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void mongo::InsertWriteOperation::startCommand </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1BSONObjBuilder.html">BSONObjBuilder</a> *&#160;</td>
          <td class="paramname"><em>command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Appends the preamble for a write command into the supplied <a class="el" href="classmongo_1_1BSONObjBuilder.html" title="Utility for creating a BSONObj. ">BSONObjBuilder</a>. </p>
<p>Typically this involves a single bson element having a key that represents the operation type and a value which represents the collection to which the operation will be applied. This write op element must be the first element in the document according to the specification. </p>

<p>Implements <a class="el" href="classmongo_1_1WriteOperation.html#a68ed6e9f2344eb843db7e719121071e0">mongo::WriteOperation</a>.</p>

</div>
</div>
<a class="anchor" id="a3d22d5372eb97314afde0c00d67bd383"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void mongo::InsertWriteOperation::startRequest </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ordered</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1__BufBuilder.html">BufBuilder</a> *&#160;</td>
          <td class="paramname"><em>builder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Appends the preamble for a wire protocol message into the supplied BufBuilder. </p>
<p>This is the part of the wire protocol message after the header but before the bson document portion. It typically contains the namespace, flags, and potentially space reserved by the protocol for future use.</p>
<p>NOTE: The size of the preamble is fixed but operation type dependant. </p>

<p>Implements <a class="el" href="classmongo_1_1WriteOperation.html#a59c83c27e665b3490fe8d410ae5748d9">mongo::WriteOperation</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/mongo/client/<a class="el" href="insert__write__operation_8h_source.html">insert_write_operation.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
