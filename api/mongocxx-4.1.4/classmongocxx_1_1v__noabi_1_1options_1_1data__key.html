<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MongoDB C++ Driver: mongocxx::v_noabi::options::data_key Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
<!-- patch-apidocs-current-redirects: mongocxx-4.1.4 -->
<link rel="canonical" href="https://mongocxx.org/api/mongocxx-4.1.4/classmongocxx_1_1v__noabi_1_1options_1_1data__key.html"/>
<script type="text/javascript">
if (window.location.pathname.startsWith("/api/current/")) {
  window.location.replace(
    window.location.href.replace("/api/current/", "/api/mongocxx-4.1.4/")
  )
}
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MongoDB C++ Driver<span id="projectnumber">&#160;4.1.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a href="namespacemongocxx.html">mongocxx</a></li><li class="navelem"><a href="namespacemongocxx_1_1v__noabi.html">v_noabi</a></li><li class="navelem"><a href="namespacemongocxx_1_1v__noabi_1_1options.html">options</a></li><li class="navelem"><a href="classmongocxx_1_1v__noabi_1_1options_1_1data__key.html">data_key</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmongocxx_1_1v__noabi_1_1options_1_1data__key-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mongocxx::v_noabi::options::data_key Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="data__key_8hpp_source.html">mongocxx/v_noabi/mongocxx/options/data_key.hpp</a>&gt;</code></p>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Description</h2>
<div class="textblock"><p>Used by <a class="el" href="classmongocxx_1_1v__noabi_1_1client__encryption.html#a210705724f3e8d202bc7b6fb2aed4f91">mongocxx::v_noabi::client_encryption::create_data_key</a>. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-types" class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a3f02f4f13c1dbcf0f207b7dc5ebbf4f0" id="r_a3f02f4f13c1dbcf0f207b7dc5ebbf4f0"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f02f4f13c1dbcf0f207b7dc5ebbf4f0">key_material_type</a> = std::vector&lt;uint8_t&gt;</td></tr>
<tr class="memdesc:a3f02f4f13c1dbcf0f207b7dc5ebbf4f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents binary data used to represent key material.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a566d2d47ecfc5879a081dbd8d5942377" id="r_a566d2d47ecfc5879a081dbd8d5942377"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt; const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a566d2d47ecfc5879a081dbd8d5942377">key_alt_names</a> () const</td></tr>
<tr class="memdesc:a566d2d47ecfc5879a081dbd8d5942377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the alternate names for the data key.  <br /></td></tr>
<tr class="memitem:ab4082d697962b6d426f65c562508780b" id="r_ab4082d697962b6d426f65c562508780b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongocxx_1_1v__noabi_1_1options_1_1data__key.html">data_key</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4082d697962b6d426f65c562508780b">key_alt_names</a> (std::vector&lt; std::string &gt; key_alt_names)</td></tr>
<tr class="memdesc:ab4082d697962b6d426f65c562508780b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an optional list of string alternate names used to reference the key. If a key is created with alternate names, then encryption may refer to the key by the unique alternate name instead of by _id.  <br /></td></tr>
<tr class="memitem:a93e70f702017fd1cf9f13887480ba0d5" id="r_a93e70f702017fd1cf9f13887480ba0d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbsoncxx_1_1v1_1_1stdx_1_1optional.html">bsoncxx::v_noabi::stdx::optional</a>&lt; <a class="el" href="#a3f02f4f13c1dbcf0f207b7dc5ebbf4f0">key_material_type</a> &gt; const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93e70f702017fd1cf9f13887480ba0d5">key_material</a> ()</td></tr>
<tr class="memdesc:a93e70f702017fd1cf9f13887480ba0d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the keyMaterial as binary data.  <br /></td></tr>
<tr class="memitem:aeba0ba2039e7e152d1ec0732f6cc7bbb" id="r_aeba0ba2039e7e152d1ec0732f6cc7bbb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongocxx_1_1v__noabi_1_1options_1_1data__key.html">data_key</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeba0ba2039e7e152d1ec0732f6cc7bbb">key_material</a> (<a class="el" href="#a3f02f4f13c1dbcf0f207b7dc5ebbf4f0">key_material_type</a> key_material)</td></tr>
<tr class="memdesc:aeba0ba2039e7e152d1ec0732f6cc7bbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the binary data for the key material.  <br /></td></tr>
<tr class="memitem:a4eb869c5a696bae3d8e92b1cf9baeba7" id="r_a4eb869c5a696bae3d8e92b1cf9baeba7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbsoncxx_1_1v1_1_1stdx_1_1optional.html">bsoncxx::v_noabi::stdx::optional</a>&lt; <a class="el" href="namespacebsoncxx_1_1v__noabi_1_1document.html#a27a650a3413ace3ad63734eeca5e4e69">bsoncxx::v_noabi::document::view_or_value</a> &gt; const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4eb869c5a696bae3d8e92b1cf9baeba7">master_key</a> () const</td></tr>
<tr class="memdesc:a4eb869c5a696bae3d8e92b1cf9baeba7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the master key.  <br /></td></tr>
<tr class="memitem:ae2ba156b20657248b4ebf0957fe3be22" id="r_ae2ba156b20657248b4ebf0957fe3be22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongocxx_1_1v__noabi_1_1options_1_1data__key.html">data_key</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae2ba156b20657248b4ebf0957fe3be22">master_key</a> (<a class="el" href="namespacebsoncxx_1_1v__noabi_1_1document.html#a27a650a3413ace3ad63734eeca5e4e69">bsoncxx::v_noabi::document::view_or_value</a> master_key)</td></tr>
<tr class="memdesc:ae2ba156b20657248b4ebf0957fe3be22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a KMS-specific key used to encrypt the new data key.  <br /></td></tr>
</table>
<a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Member Typedef Documentation</h2>
<a id="a3f02f4f13c1dbcf0f207b7dc5ebbf4f0" name="a3f02f4f13c1dbcf0f207b7dc5ebbf4f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f02f4f13c1dbcf0f207b7dc5ebbf4f0">&#9670;&#160;</a></span>key_material_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a3f02f4f13c1dbcf0f207b7dc5ebbf4f0">mongocxx::v_noabi::options::data_key::key_material_type</a> = std::vector&lt;uint8_t&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents binary data used to represent key material. </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a566d2d47ecfc5879a081dbd8d5942377" name="a566d2d47ecfc5879a081dbd8d5942377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a566d2d47ecfc5879a081dbd8d5942377">&#9670;&#160;</a></span>key_alt_names() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; const  &amp; mongocxx::v_noabi::options::data_key::key_alt_names </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the alternate names for the data key. </p>
<dl class="section return"><dt>Returns</dt><dd>The alternate names for the data key. </dd></dl>

</div>
</div>
<a id="ab4082d697962b6d426f65c562508780b" name="ab4082d697962b6d426f65c562508780b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4082d697962b6d426f65c562508780b">&#9670;&#160;</a></span>key_alt_names() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongocxx_1_1v__noabi_1_1options_1_1data__key.html">data_key</a> &amp; mongocxx::v_noabi::options::data_key::key_alt_names </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt;</td>          <td class="paramname"><span class="paramname"><em>key_alt_names</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets an optional list of string alternate names used to reference the key. If a key is created with alternate names, then encryption may refer to the key by the unique alternate name instead of by _id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key_alt_names</td><td>The alternate names for the key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to this object.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a href="https://www.mongodb.com/docs/manual/reference/method/getClientEncryption/">https://www.mongodb.com/docs/manual/reference/method/getClientEncryption/</a> </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a93e70f702017fd1cf9f13887480ba0d5" name="a93e70f702017fd1cf9f13887480ba0d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93e70f702017fd1cf9f13887480ba0d5">&#9670;&#160;</a></span>key_material() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbsoncxx_1_1v1_1_1stdx_1_1optional.html">bsoncxx::v_noabi::stdx::optional</a>&lt; <a class="el" href="#a3f02f4f13c1dbcf0f207b7dc5ebbf4f0">key_material_type</a> &gt; const  &amp; mongocxx::v_noabi::options::data_key::key_material </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the keyMaterial as binary data. </p>
<dl class="section return"><dt>Returns</dt><dd>The binary data for the key material</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a href="https://www.mongodb.com/docs/v6.0/reference/method/KeyVault.createKey/">https://www.mongodb.com/docs/v6.0/reference/method/KeyVault.createKey/</a> </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aeba0ba2039e7e152d1ec0732f6cc7bbb" name="aeba0ba2039e7e152d1ec0732f6cc7bbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeba0ba2039e7e152d1ec0732f6cc7bbb">&#9670;&#160;</a></span>key_material() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongocxx_1_1v__noabi_1_1options_1_1data__key.html">data_key</a> &amp; mongocxx::v_noabi::options::data_key::key_material </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a3f02f4f13c1dbcf0f207b7dc5ebbf4f0">key_material_type</a></td>          <td class="paramname"><span class="paramname"><em>key_material</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the binary data for the key material. </p>
<p>An optional BinData of 96 bytes to use as custom key material for the data key being created. If keyMaterial is given, the custom key material is used for encrypting and decrypting data.</p>
<p>Otherwise, the key material for the new data key is generated from a cryptographically secure random device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key_material</td><td>The binary data for the keyMaterial</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to this object.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a href="https://www.mongodb.com/docs/v6.0/reference/method/KeyVault.createKey/">https://www.mongodb.com/docs/v6.0/reference/method/KeyVault.createKey/</a> </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a4eb869c5a696bae3d8e92b1cf9baeba7" name="a4eb869c5a696bae3d8e92b1cf9baeba7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eb869c5a696bae3d8e92b1cf9baeba7">&#9670;&#160;</a></span>master_key() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbsoncxx_1_1v1_1_1stdx_1_1optional.html">bsoncxx::v_noabi::stdx::optional</a>&lt; <a class="el" href="namespacebsoncxx_1_1v__noabi_1_1document.html#a27a650a3413ace3ad63734eeca5e4e69">bsoncxx::v_noabi::document::view_or_value</a> &gt; const  &amp; mongocxx::v_noabi::options::data_key::master_key </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the master key. </p>
<dl class="section return"><dt>Returns</dt><dd>An optional document containing the master key. </dd></dl>

</div>
</div>
<a id="ae2ba156b20657248b4ebf0957fe3be22" name="ae2ba156b20657248b4ebf0957fe3be22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2ba156b20657248b4ebf0957fe3be22">&#9670;&#160;</a></span>master_key() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongocxx_1_1v__noabi_1_1options_1_1data__key.html">data_key</a> &amp; mongocxx::v_noabi::options::data_key::master_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacebsoncxx_1_1v__noabi_1_1document.html#a27a650a3413ace3ad63734eeca5e4e69">bsoncxx::v_noabi::document::view_or_value</a></td>          <td class="paramname"><span class="paramname"><em>master_key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a KMS-specific key used to encrypt the new data key. </p>
<p>If the KMS provider is "aws" the masterKey is required and has the following fields:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">   region: String,</div>
<div class="line">   key: String, <span class="comment">// The Amazon Resource Name (ARN) to the AWS customer master key (CMK).</span></div>
<div class="line">   endpoint: Optional&lt;String&gt; <span class="comment">// An alternate host identifier to send KMS requests to. May</span></div>
<div class="line">                              <span class="comment">// include port number. Defaults to</span></div>
<div class="line">                              <span class="comment">// &quot;kms.&lt;region&gt;.amazonaws.com&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>If the KMS provider is "azure" the masterKey is required and has the following fields:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">   keyVaultEndpoint: String, <span class="comment">// Host with optional port. Example: &quot;example.vault.azure.net&quot;.</span></div>
<div class="line">   keyName: String,</div>
<div class="line">   keyVersion: Optional&lt;String&gt; <span class="comment">// A specific version of the named key, defaults to using</span></div>
<div class="line">                                <span class="comment">// the key&#39;s primary version.</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>If the KMS provider is "gcp" the masterKey is required and has the following fields:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">   projectId: String,</div>
<div class="line">   location: String,</div>
<div class="line">   keyRing: String,</div>
<div class="line">   keyName: String,</div>
<div class="line">   keyVersion: Optional&lt;String&gt;, <span class="comment">// A specific version of the named key, defaults to using</span></div>
<div class="line">                                 <span class="comment">// the key&#39;s primary version.</span></div>
<div class="line">   endpoint: Optional&lt;String&gt; <span class="comment">// Host with optional port. Defaults to</span></div>
<div class="line">                              <span class="comment">// &quot;cloudkms.googleapis.com&quot;.</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>If the KMS provider is "kmip" the masterKey is required and has the following fields:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    keyId: Optional&lt;String&gt;, <span class="comment">// keyId is the KMIP Unique Identifier to a 96 byte KMIP Secret</span></div>
<div class="line">                             <span class="comment">// Data managed object.If keyId is omitted, the driver creates</span></div>
<div class="line">                             <span class="comment">// a random 96 byte KMIP Secret Data managed object.</span></div>
<div class="line">    endpoint: Optional&lt;String&gt;, <span class="comment">// Host with optional port.</span></div>
<div class="line">    delegated: Optional&lt;Boolean&gt; <span class="comment">// If true, this key should be decrypted by the KMIP</span></div>
<div class="line">                                 <span class="comment">// server.</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>If the KMS provider is "local" the masterKey is not applicable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">master_key</td><td>The document representing the master key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to this object.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a href="https://www.mongodb.com/docs/manual/core/security-client-side-encryption-key-management/">https://www.mongodb.com/docs/manual/core/security-client-side-encryption-key-management/</a> </li>
</ul>
</dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>mongocxx/v_noabi/mongocxx/options/<a class="el" href="data__key_8hpp_source.html">data_key.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
