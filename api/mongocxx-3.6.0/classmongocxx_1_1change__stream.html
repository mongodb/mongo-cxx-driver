<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MongoDB C++ Driver: mongocxx::change_stream Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MongoDB C++ Driver
   &#160;<span id="projectnumber">mongocxx-3.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemongocxx.html">mongocxx</a></li><li class="navelem"><a class="el" href="classmongocxx_1_1change__stream.html">change_stream</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmongocxx_1_1change__stream-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mongocxx::change_stream Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1change__stream_1_1iterator.html">iterator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a67e1c016901b71213622fc3ba5e0f9cb"><td class="memItemLeft" align="right" valign="top"><a id="a67e1c016901b71213622fc3ba5e0f9cb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1change__stream.html#a67e1c016901b71213622fc3ba5e0f9cb">change_stream</a> (<a class="el" href="classmongocxx_1_1change__stream.html">change_stream</a> &amp;&amp;other) noexcept</td></tr>
<tr class="memdesc:a67e1c016901b71213622fc3ba5e0f9cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructs a <a class="el" href="classmongocxx_1_1change__stream.html">change_stream</a>. <br /></td></tr>
<tr class="separator:a67e1c016901b71213622fc3ba5e0f9cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab07ca42d904bb6b34e7c7234e7b3c7c4"><td class="memItemLeft" align="right" valign="top"><a id="ab07ca42d904bb6b34e7c7234e7b3c7c4"></a>
<a class="el" href="classmongocxx_1_1change__stream.html">change_stream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1change__stream.html#ab07ca42d904bb6b34e7c7234e7b3c7c4">operator=</a> (<a class="el" href="classmongocxx_1_1change__stream.html">change_stream</a> &amp;&amp;other) noexcept</td></tr>
<tr class="memdesc:ab07ca42d904bb6b34e7c7234e7b3c7c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move assigns a <a class="el" href="classmongocxx_1_1change__stream.html">change_stream</a>. <br /></td></tr>
<tr class="separator:ab07ca42d904bb6b34e7c7234e7b3c7c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f13f469f6b4243b250ead97249b8a2b"><td class="memItemLeft" align="right" valign="top"><a id="a0f13f469f6b4243b250ead97249b8a2b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1change__stream.html#a0f13f469f6b4243b250ead97249b8a2b">~change_stream</a> ()</td></tr>
<tr class="memdesc:a0f13f469f6b4243b250ead97249b8a2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a <a class="el" href="classmongocxx_1_1change__stream.html">change_stream</a>. <br /></td></tr>
<tr class="separator:a0f13f469f6b4243b250ead97249b8a2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28b97012f6cb445d534ab699b7110972"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongocxx_1_1change__stream_1_1iterator.html">iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1change__stream.html#a28b97012f6cb445d534ab699b7110972">begin</a> () const</td></tr>
<tr class="memdesc:a28b97012f6cb445d534ab699b7110972"><td class="mdescLeft">&#160;</td><td class="mdescRight">A <a class="el" href="classmongocxx_1_1change__stream_1_1iterator.html">change_stream::iterator</a> points to the beginning of any available notifications.  <a href="classmongocxx_1_1change__stream.html#a28b97012f6cb445d534ab699b7110972">More...</a><br /></td></tr>
<tr class="separator:a28b97012f6cb445d534ab699b7110972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a320e93969ea53c908bbc1c1dbca3d200"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongocxx_1_1change__stream_1_1iterator.html">iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1change__stream.html#a320e93969ea53c908bbc1c1dbca3d200">end</a> () const</td></tr>
<tr class="memdesc:a320e93969ea53c908bbc1c1dbca3d200"><td class="mdescLeft">&#160;</td><td class="mdescRight">A <a class="el" href="classmongocxx_1_1change__stream_1_1iterator.html">change_stream::iterator</a> indicating stream exhaustion, meaning that no notifications are available from the stream.  <a href="classmongocxx_1_1change__stream.html#a320e93969ea53c908bbc1c1dbca3d200">More...</a><br /></td></tr>
<tr class="separator:a320e93969ea53c908bbc1c1dbca3d200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96593e1e59347ddbca52d2c75df4f41f"><td class="memItemLeft" align="right" valign="top">bsoncxx::stdx::optional&lt; <a class="el" href="classbsoncxx_1_1document_1_1view.html">bsoncxx::document::view</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongocxx_1_1change__stream.html#a96593e1e59347ddbca52d2c75df4f41f">get_resume_token</a> () const</td></tr>
<tr class="memdesc:a96593e1e59347ddbca52d2c75df4f41f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a resume token for this change stream.  <a href="classmongocxx_1_1change__stream.html#a96593e1e59347ddbca52d2c75df4f41f">More...</a><br /></td></tr>
<tr class="separator:a96593e1e59347ddbca52d2c75df4f41f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a28b97012f6cb445d534ab699b7110972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28b97012f6cb445d534ab699b7110972">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongocxx_1_1change__stream_1_1iterator.html">iterator</a> mongocxx::change_stream::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A <a class="el" href="classmongocxx_1_1change__stream_1_1iterator.html">change_stream::iterator</a> points to the beginning of any available notifications. </p>
<p>Each call to <a class="el" href="classmongocxx_1_1change__stream.html#a28b97012f6cb445d534ab699b7110972" title="A change_stream::iterator points to the beginning of any available notifications.">begin()</a> advances to the next available notification. The state of all iterators is tracked by the <a class="el" href="classmongocxx_1_1change__stream.html">change_stream</a> itself, so advancing one iterator advances all iterators.</p>
<p><a class="el" href="classmongocxx_1_1change__stream.html#a28b97012f6cb445d534ab699b7110972" title="A change_stream::iterator points to the beginning of any available notifications.">change_stream::begin()</a> and the increment operators are blocking operations. They will not return until a notification is available, the max_await_time (from the <a class="el" href="classmongocxx_1_1options_1_1change__stream.html">options::change_stream</a>) milliseconds have elapsed, or a server error is encountered.</p>
<p>When <a class="el" href="classmongocxx_1_1change__stream.html#a28b97012f6cb445d534ab699b7110972" title="A change_stream::iterator points to the beginning of any available notifications.">change_stream.begin()</a> == <a class="el" href="classmongocxx_1_1change__stream.html#a320e93969ea53c908bbc1c1dbca3d200" title="A change_stream::iterator indicating stream exhaustion, meaning that no notifications are available f...">change_stream.end()</a>, no notifications are available. Each call to <a class="el" href="classmongocxx_1_1change__stream.html#a28b97012f6cb445d534ab699b7110972" title="A change_stream::iterator points to the beginning of any available notifications.">change_stream.begin()</a> checks again for newly-available notifications.</p>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="classmongocxx_1_1change__stream_1_1iterator.html">change_stream::iterator</a> </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throws</td><td><a class="el" href="classmongocxx_1_1query__exception.html" title="Class representing an exception during a query operation.">mongocxx::query_exception</a> if the query failed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a320e93969ea53c908bbc1c1dbca3d200"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a320e93969ea53c908bbc1c1dbca3d200">&#9670;&nbsp;</a></span>end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongocxx_1_1change__stream_1_1iterator.html">iterator</a> mongocxx::change_stream::end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A <a class="el" href="classmongocxx_1_1change__stream_1_1iterator.html">change_stream::iterator</a> indicating stream exhaustion, meaning that no notifications are available from the stream. </p>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="classmongocxx_1_1change__stream_1_1iterator.html">change_stream::iterator</a> indicating exhaustion </dd></dl>

</div>
</div>
<a id="a96593e1e59347ddbca52d2c75df4f41f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96593e1e59347ddbca52d2c75df4f41f">&#9670;&nbsp;</a></span>get_resume_token()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bsoncxx::stdx::optional&lt;<a class="el" href="classbsoncxx_1_1document_1_1view.html">bsoncxx::document::view</a>&gt; mongocxx::change_stream::get_resume_token </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a resume token for this change stream. </p>
<p>If the change stream has not been iterated, and either resume_after or start_after was specified in the options to this change stream, the specified value will be returned by this method. If neither resume_after or start_after was set on the options for this change stream, and it has not been iterated, this method will return no token.</p>
<p>Once this change stream has been iterated, this method will return the resume token of the most recently returned document in the stream, or a postBatchResumeToken if the current batch of documents has been exhausted.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://docs.mongodb.com/manual/changeStreams/#change-stream-resume-token">https://docs.mongodb.com/manual/changeStreams/#change-stream-resume-token</a></dd></dl>
<p>The returned document::view is valid for the lifetime of the stream and its data may be updated if the change stream is iterated after this function. The value may be copied to extend its lifetime or preserve the current resume token.</p>
<dl class="section return"><dt>Returns</dt><dd>The token. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/mongocxx/<a class="el" href="change__stream_8hpp_source.html">change_stream.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
