<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>MongoDB C++ Driver: mongo::client::GlobalInstance Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MongoDB C++ Driver
   &#160;<span id="projectnumber">legacy-1.0.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemongo.html">mongo</a></li><li class="navelem"><a class="el" href="namespacemongo_1_1client.html">client</a></li><li class="navelem"><a class="el" href="classmongo_1_1client_1_1GlobalInstance.html">GlobalInstance</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmongo_1_1client_1_1GlobalInstance-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mongo::client::GlobalInstance Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An RAII helper to simplify driver setup and teardown.  
 <a href="classmongo_1_1client_1_1GlobalInstance.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="init_8h_source.html">init.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a724cc5f50c4f957dceca1ce430bcafe6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1client_1_1GlobalInstance.html#a724cc5f50c4f957dceca1ce430bcafe6">GlobalInstance</a> (const <a class="el" href="classmongo_1_1client_1_1Options.html">Options</a> &amp;options=<a class="el" href="classmongo_1_1client_1_1Options.html">Options</a>())</td></tr>
<tr class="memdesc:a724cc5f50c4f957dceca1ce430bcafe6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes '<a class="el" href="namespacemongo_1_1client.html#aad4213a224b92333d2395839e4c81498" title="Initializes the client driver, possibly with custom options. ">mongo::client::initialize</a>" with the provided <a class="el" href="classmongo_1_1client_1_1Options.html" title="The Options structure is passed to mongo::client::initialize to configure various properties and conf...">Options</a>, or the default <a class="el" href="classmongo_1_1client_1_1Options.html" title="The Options structure is passed to mongo::client::initialize to configure various properties and conf...">Options</a> if none are provided.  <a href="#a724cc5f50c4f957dceca1ce430bcafe6">More...</a><br /></td></tr>
<tr class="separator:a724cc5f50c4f957dceca1ce430bcafe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca6b4def8924a32e2f94ec8ba15f6305"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca6b4def8924a32e2f94ec8ba15f6305"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1client_1_1GlobalInstance.html#aca6b4def8924a32e2f94ec8ba15f6305">~GlobalInstance</a> ()</td></tr>
<tr class="memdesc:aca6b4def8924a32e2f94ec8ba15f6305"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes '<a class="el" href="namespacemongo_1_1client.html#a207199d08530716efd309a7bc1013612" title="Terminates the client driver. ">mongo::client::shutdown</a>' if the <a class="el" href="classmongo_1_1client_1_1GlobalInstance.html" title="An RAII helper to simplify driver setup and teardown. ">GlobalInstance</a> succeeded in initializing the library and if the options used to successfully initialize the driver will not automatically result in a call to '<a class="el" href="namespacemongo_1_1client.html#a207199d08530716efd309a7bc1013612" title="Terminates the client driver. ">mongo::client::shutdown</a>' during atexit processing. <br /></td></tr>
<tr class="separator:aca6b4def8924a32e2f94ec8ba15f6305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7dcd25cfd58f511001f4947a52203cb"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacemongo.html#a6ee35cd59a3a5a21c98b430345c35401">Status</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1client_1_1GlobalInstance.html#ad7dcd25cfd58f511001f4947a52203cb">status</a> () const </td></tr>
<tr class="memdesc:ad7dcd25cfd58f511001f4947a52203cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the Status generated by the internal call to '<a class="el" href="namespacemongo_1_1client.html#aad4213a224b92333d2395839e4c81498" title="Initializes the client driver, possibly with custom options. ">client::initialize</a>'.  <a href="#ad7dcd25cfd58f511001f4947a52203cb">More...</a><br /></td></tr>
<tr class="separator:ad7dcd25cfd58f511001f4947a52203cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ced15138863e573b8b5b09e8eaeb273"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1client_1_1GlobalInstance.html#a1ced15138863e573b8b5b09e8eaeb273">initialized</a> () const </td></tr>
<tr class="memdesc:a1ced15138863e573b8b5b09e8eaeb273"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 'true' if initialization succeeded, 'false' otherwise.  <a href="#a1ced15138863e573b8b5b09e8eaeb273">More...</a><br /></td></tr>
<tr class="separator:a1ced15138863e573b8b5b09e8eaeb273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabb983f410bd0bd178ef2e661b61cca0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aabb983f410bd0bd178ef2e661b61cca0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1client_1_1GlobalInstance.html#aabb983f410bd0bd178ef2e661b61cca0">assertInitialized</a> () const </td></tr>
<tr class="memdesc:aabb983f410bd0bd178ef2e661b61cca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raises a UserAssertion exception if the <a class="el" href="classmongo_1_1client_1_1GlobalInstance.html" title="An RAII helper to simplify driver setup and teardown. ">GlobalInstance</a> failed to initialize the library. <br /></td></tr>
<tr class="separator:aabb983f410bd0bd178ef2e661b61cca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30ab3c49f7cad66b555b213ed0176f6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a6ee35cd59a3a5a21c98b430345c35401">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1client_1_1GlobalInstance.html#a30ab3c49f7cad66b555b213ed0176f6f">shutdown</a> ()</td></tr>
<tr class="memdesc:a30ab3c49f7cad66b555b213ed0176f6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Immediately calls 'shutdown' on the driver and returns the resulting Status.  <a href="#a30ab3c49f7cad66b555b213ed0176f6f">More...</a><br /></td></tr>
<tr class="separator:a30ab3c49f7cad66b555b213ed0176f6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An RAII helper to simplify driver setup and teardown. </p>
<p>If more refined control over error handling of initialization and shutdown is required, use the explicit 'initialize' and 'shutdown' functions above. Note that the restrictions on the invocation of 'initialize' are not obviated by using this class. Please see the methods below for more details. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a724cc5f50c4f957dceca1ce430bcafe6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mongo::client::GlobalInstance::GlobalInstance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmongo_1_1client_1_1Options.html">Options</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em> = <code><a class="el" href="classmongo_1_1client_1_1Options.html">Options</a>()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Invokes '<a class="el" href="namespacemongo_1_1client.html#aad4213a224b92333d2395839e4c81498" title="Initializes the client driver, possibly with custom options. ">mongo::client::initialize</a>" with the provided <a class="el" href="classmongo_1_1client_1_1Options.html" title="The Options structure is passed to mongo::client::initialize to configure various properties and conf...">Options</a>, or the default <a class="el" href="classmongo_1_1client_1_1Options.html" title="The Options structure is passed to mongo::client::initialize to configure various properties and conf...">Options</a> if none are provided. </p>
<p>If initialization is successful, destruction of the <a class="el" href="classmongo_1_1client_1_1GlobalInstance.html" title="An RAII helper to simplify driver setup and teardown. ">GlobalInstance</a> will invoke 'shutdown' if such a call would not otherwise automatically be performed by the library via atexit (see <a class="el" href="classmongo_1_1client_1_1Options.html#aa98405ae1d08877ca1b3a0cc3cd21759" title="If true, the driver will automatically schedule a client::shutdown via &#39;std::atexit&#39;. ">Options::setCallShutdownAtExit</a>). After constructing the <a class="el" href="classmongo_1_1client_1_1GlobalInstance.html" title="An RAII helper to simplify driver setup and teardown. ">GlobalInstance</a>, you must check whether the initialization was successful via the 'initialized' method, or by checking the Status object returned by the 'status' member function. A failed GLobalInstance will not attempt to invoke shutdown. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1ced15138863e573b8b5b09e8eaeb273"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::client::GlobalInstance::initialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns 'true' if initialization succeeded, 'false' otherwise. </p>

</div>
</div>
<a class="anchor" id="a30ab3c49f7cad66b555b213ed0176f6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a6ee35cd59a3a5a21c98b430345c35401">Status</a> mongo::client::GlobalInstance::shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Immediately calls 'shutdown' on the driver and returns the resulting Status. </p>
<p>If the returned Status is OK, then the <a class="el" href="classmongo_1_1client_1_1GlobalInstance.html" title="An RAII helper to simplify driver setup and teardown. ">GlobalInstance</a> will abandon the pending call to 'shutdown' from its destructor. If the returned Status is not an OK status, then the pending call to 'shutdown' is not canceled. The call to <a class="el" href="classmongo_1_1client_1_1GlobalInstance.html#a30ab3c49f7cad66b555b213ed0176f6f" title="Immediately calls &#39;shutdown&#39; on the driver and returns the resulting Status. ">GlobalInstance::shutdown</a> may be retried if it returns a non-OK Status. </p>

</div>
</div>
<a class="anchor" id="ad7dcd25cfd58f511001f4947a52203cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacemongo.html#a6ee35cd59a3a5a21c98b430345c35401">Status</a>&amp; mongo::client::GlobalInstance::status </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the Status generated by the internal call to '<a class="el" href="namespacemongo_1_1client.html#aad4213a224b92333d2395839e4c81498" title="Initializes the client driver, possibly with custom options. ">client::initialize</a>'. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/mongo/client/<a class="el" href="init_8h_source.html">init.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
